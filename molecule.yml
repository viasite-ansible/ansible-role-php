---
dependency:
  name: galaxy

driver:
  name: docker
docker:
  containers:
    - name: ansible-role-php
      image: ubuntu
      image_version: latest
      volume_mounts:
        - ${MOLECULE_APTPROXY_PATH}:/etc/apt/apt.conf.d/00aptproxy
      ansible_groups:
        - group1

ansible:
  playbook: tests/playbook.yml
  group_vars:
    all:
      php_packages:
        - php7.0-common
        - php7.0-cli
        - php7.0-dev
        - php7.0-fpm
        - libpcre3-dev
        - php7.0-gd
        - php7.0-curl
        - php7.0-imap
        - php7.0-json
        - php7.0-opcache
        - php7.0-xml
        - php7.0-mbstring
        - php-sqlite3
        - php-apcu
        - php7.0-mysql
        - php-memcached
      php_enable_webserver: false
      php_max_execution_time: 120
      php_post_max_size: "100M"
      php_upload_max_filesize: "100M"
      php_memory_limit: "256M"
      php_session_save_handler: files
      php_session_gc_probability: 1
      php_session_gc_divisor: 1000
      php_session_gc_maxlifetime: 1440
      php_date_timezone: "Asia/Yekaterinburg"
